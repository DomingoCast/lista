(this["webpackJsonplista-react"]=this["webpackJsonplista-react"]||[]).push([[0],{10:function(e,t,a){e.exports={itemBox:"Item_itemBox__3bBo2",swiping:"Item_swiping__K-05u",minus:"Item_minus__s_oUM",plus:"Item_plus__1-_7d",bought:"Item_bought__lH5J9",q:"Item_q__pwbB0",borrado:"Item_borrado__2v_S2",plusBack:"Item_plusBack__gy0oM",maxed1:"Item_maxed1__2S2Lj",maxed2:"Item_maxed2__2RUSs",minusBack:"Item_minusBack__1LZwp"}},11:function(e,t,a){e.exports={input:"Input_input__3peQW",invalid:"Input_invalid__27leb"}},13:function(e,t,a){e.exports={bigContainer:"Lista_bigContainer__B0Dr0",h1:"Lista_h1__LpFvl",itemsContainer:"Lista_itemsContainer__3Uxfw",unFocused:"Lista_unFocused__lwYXJ",focused:"Lista_focused__3F-Sy",submitBtn:"Lista_submitBtn__3i623",hitBox:"Lista_hitBox__3uz-W"}},14:function(e,t,a){e.exports={bigContainer:"Lista_bigContainer__18g1p",h1:"Lista_h1__2Lm-V",itemsContainer:"Lista_itemsContainer__2GjvH",unFocused:"Lista_unFocused__ffRXm",focused:"Lista_focused__iVuyE",submitBtn:"Lista_submitBtn__3Y45c",hitBox:"Lista_hitBox__1Z4V9"}},26:function(e,t,a){e.exports={bigContainer:"Start_bigContainer__15Z0C",h1:"Start_h1__1ufI7",button:"Start_button__2lEsf"}},27:function(e,t,a){e.exports={buttonLink:"Button_buttonLink__3ftmW",block:"Button_block__2YKcJ",text:"Button_text__3Y4Sn"}},29:function(e,t,a){e.exports={link:"ListInstance_link__1diOY",container:"ListInstance_container__1Tnbn"}},4:function(e,t,a){e.exports={bigContainer:"Auth_bigContainer__3eVtO",h1:"Auth_h1__1v8L0",inputContainer:"Auth_inputContainer__312Ay",block3:"Auth_block3__1GLbD",link:"Auth_link__1qUcW",button:"Auth_button__1ZI0R"}},43:function(e,t,a){e.exports={bigContainer:"Listas_bigContainer__34_PN",itemsContainer:"Listas_itemsContainer__3Jvwr"}},45:function(e,t,a){e.exports=a(74)},50:function(e,t,a){},73:function(e,t,a){},74:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),c=a(21),s=a.n(c),l=(a(50),a(3)),r=a(26),i=a.n(r),u=a(27),m=a.n(u),d=function(e){var t=o.a.createElement("p",null," macarrones ");switch(e.type){case"main":t=o.a.createElement("a",{onClick:function(t){t.preventDefault(),e.click()},href:"#",className:m.a.buttonLink},o.a.createElement("div",{className:m.a.block},o.a.createElement("span",{className:m.a.text},e.text)));break;default:t=o.a.createElement("p",null,"ldefault")}return o.a.createElement(o.a.Fragment,null,t)},p=function(e){return o.a.createElement("div",{className:i.a.bigContainer},o.a.createElement("h1",{className:i.a.h1}," lista "),o.a.createElement("div",{className:i.a.button},o.a.createElement(d,{type:"main",click:function(){e.history.push("/login")},text:"start"})))},_=a(15),b=a(17),h=a(1),g=a(24),f=a.n(g),E=f.a.create({baseURL:"http://localhost:8080/lista/"}),v=JSON.parse(localStorage.getItem("token"));E.defaults.headers.common.Authorization="Bearer "+v;var O=E,j=a(13),S=a.n(j),N=a(10),k=a.n(N),y=function(e){var t=Object(n.useState)(null),a=Object(h.a)(t,2),c=a[0],s=a[1],l=Object(n.useState)(0),r=Object(h.a)(l,2),i=r[0],u=r[1],m=Object(n.useState)(50),d=Object(h.a)(m,2),p=d[0],_=(d[1],Object(n.useState)(null)),b=Object(h.a)(_,2),g=b[0],f=b[1],E=Object(n.useState)(0),v=Object(h.a)(E,2),O=v[0],j=v[1],S=Object(n.useState)(500),N=Object(h.a)(S,2),y=N[0],I=N[1],x=Object(n.useState)(!1),C=Object(h.a)(x,2),w=C[0],B=C[1],L=Object(n.useState)(!1),q=Object(h.a)(L,2),R=(q[0],q[1]),T=Object(n.useState)(!1),D=Object(h.a)(T,2),F=(D[0],D[1],Object(n.useState)(null)),U=Object(h.a)(F,2),A=U[0],P=U[1],J=Object(n.useState)(e.q),M=Object(h.a)(J,2),V=(M[0],M[1],Object(n.useState)(null)),W=Object(h.a)(V,2),X=(W[0],W[1],function(t){console.log("[INCREASE]"),clearTimeout(A),e.increase()}),K=function(){console.log("[DECREASE]"),1===e.q&&document.documentElement.style.setProperty("--trans-time",".2s"),e.decrease()},Y=function(){j(0),R(!1),clearTimeout(A),B(!1),f(null),s(null),I(1e3),u(0),document.documentElement.style.setProperty("--transform","".concat(0,"px")),document.documentElement.style.setProperty("--trans-time",".2s")};return o.a.createElement("div",{id:e.lid,onTouchMove:function t(a){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:y,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(R(!0),f(k.a.swiping),document.documentElement.style.setProperty("--trans-time","0s"),c){if(Math.abs(i)<=p)u(a.touches[0].clientX-c),document.documentElement.style.setProperty("--transform","".concat(i,"px")),document.documentElement.style.setProperty("--trans-time","0s");else if(j(o),!w){var l;console.log("[Q]",e.q),i<0?X():K(),B(!0);var r=n-n/3;l=setTimeout((function(){B(!1),console.log("[MAX]",O),t(a,r,2)}),n),P(l)}}else s(a.touches[0].clientX)},onTouchCancel:Y,onTouchEnd:Y,className:"".concat(g," ").concat(k.a.itemBox," ").concat(k.a[e.status]," ").concat(k.a["maxed"+O])},o.a.createElement("span",{className:k.a.minus},"-",o.a.createElement("div",{className:k.a.minusBack})),o.a.createElement("span",null,e.name," ",o.a.createElement("span",{className:k.a.q},"x",e.q)),o.a.createElement("span",{className:k.a.plus},"+",o.a.createElement("div",{className:k.a.plusBack})))},I=function(e){var t=Object(n.useState)([]),a=Object(h.a)(t,2),c=a[0],s=a[1],l=Object(n.useState)(""),r=Object(h.a)(l,2),i=r[0],u=r[1],m=Object(n.useState)(""),d=Object(h.a)(m,2),p=d[0],g=d[1],f=Object(n.useState)(!1),E=Object(h.a)(f,2),v=E[0],j=E[1],N=Object(n.useState)(!1),k=Object(h.a)(N,2),I=k[0];k[1];Object(n.useEffect)((function(){console.log(e),O.get("lista/".concat(e.match.params.id)).then((function(e){console.log("[RESPONSE]",e.data),u(e.data.name),g(e.data._id),s(e.data.orders)})).catch((function(e){console.log("[FIRST_ERR]",e)})),O.get("http://192.168.1.12:8080/lista/lista/".concat(e.match.params.id)).then((function(e){console.log(e.data),u(e.data.name),g(e.data._id),s(e.data.orders)})).catch((function(e){return console.log("[SECOND_ERR]",e)}))}),[I]);var x=function(e){O.put("putorder/".concat(p),{order:e}).then((function(e){return console.log(e)})).catch((function(e){return console.log(e)}))},C=function(e,t){var a,n=Object(b.a)(c),o=Object(_.a)({},n[t]);if(o.q-=1,console.log("[NEW ORDER]",o),0===o.q)o.status="bought";else if(-1===o.q)return o.status="borrado",console.log("spaghetti",e),a=e,console.log("[DELETING]",a),O.delete("deleteorder/".concat(p,"/").concat(a)).then((function(e){return console.log(e)})).catch((function(e){return console.log(e)})),n[t]=o,void s(n);n[t]=o,s(n),console.log("[decreasing]"),x(o)},w=c.map((function(e,t){return o.a.createElement(y,{name:e.item?e.item.name:null,key:e._id,lid:e._id,q:e.q,status:e.status,increase:function(){return function(e,t){var a=Object(b.a)(c),n=Object(_.a)({},a[t]);n.q+=1,a[t]=n,s(a),n.q>0&&(n.status=null),x(t)}(e._id,t)},decrease:function(){return C(e._id,t)}})}));return o.a.createElement("div",{className:S.a.bigContainer},o.a.createElement("h1",{className:S.a.h1},i),o.a.createElement("div",{id:p,className:S.a.itemsContainer},w),o.a.createElement("div",{onClick:function(){console.log("[FOCUS]: ",v);var e=document.querySelector("#searchInput");v?(j(!1),e.blur()):(j(!0),e.focus())},className:S.a.hitBox},o.a.createElement("div",{className:S.a.suggestions}),o.a.createElement("form",{onSubmit:function(e){e.preventDefault(),O.defaults.baseURL="";var t=function(e){console.log("INPUT",e);var t=e.split(" ");if(console.log("DIVIDED",t),e){if("x"===t[t.length-1][0]&&parseInt(t[t.length-1].slice(1))){console.log("aqui he llegado",t.slice(t.length-1).join(""),parseInt(t[t.length-1].slice(1)));var a=[t.slice(0,t.length-1).join(" "),parseInt(t[t.length-1].slice(1))];return console.log("[RESULT]",a),a}return[e,1]}return null}(document.querySelector("#searchInput").value);null!==t&&(s([].concat(Object(b.a)(c),[{item:{name:t[0]},q:t[1]}])),O.post("http://localhost:8080/lista/posttolista/".concat(p),{name:t[0],q:t[1]}).then((function(e){return console.log(e)})).catch((function(e){return console.log(e)})))}},o.a.createElement("input",{type:"text",id:"searchInput",className:v?S.a.focused:S.a.unFocused}),o.a.createElement("input",{className:S.a.submitBtn,type:"submit"}))))},x=a(14),C=a.n(x),w=function(e){var t=Object(n.useState)([]),a=Object(h.a)(t,2),c=a[0],s=a[1],l=Object(n.useState)(""),r=Object(h.a)(l,2),i=r[0],u=r[1],m=Object(n.useState)(""),d=Object(h.a)(m,2),p=(d[0],d[1]),_=Object(n.useState)(!1),g=Object(h.a)(_,2),f=g[0],E=g[1],v=Object(n.useState)(!1),j=Object(h.a)(v,2),S=j[0];j[1];Object(n.useEffect)((function(){console.log(e),O.get("lista").then((function(e){console.log(e.data),u(e.data.name),p(e.data._id),s(e.data.orders)})).catch((function(e){return console.log("[ERR]",e)}))}),[S]);var N=c.map((function(e){return o.a.createElement(y,{name:e.item?e.item.name:null,q:e.q,status:e.status})}));return o.a.createElement("div",{className:C.a.bigContainer},o.a.createElement("h1",{className:C.a.h1},i),o.a.createElement("div",{className:C.a.itemsContainer},N),o.a.createElement("div",{onClick:function(){console.log("[FOCUS]: ",f);var e=document.querySelector("#searchInput");f?(E(!1),e.blur()):(E(!0),e.focus())},className:C.a.hitBox},o.a.createElement("div",{className:C.a.suggestions}),o.a.createElement("form",{onSubmit:function(e){e.preventDefault(),O.defaults.baseURL="";var t=function(e){console.log("INPUT",e);var t=e.split(" ");if(console.log("DIVIDED",t),e){if("x"===t[t.length-1][0]&&parseInt(t[t.length-1].slice(1))){console.log("aqui he llegado",t.slice(t.length-1).join(""),parseInt(t[t.length-1].slice(1)));var a=[t.slice(0,t.length-1).join(""),parseInt(t[t.length-1].slice(1))];return console.log("[RESULT]",a),a}return[e,1]}return null}(document.querySelector("#searchInput").value);null!==t&&(s([].concat(Object(b.a)(c),[{item:{name:t[0]},q:t[1]}])),O.post("http://localhost:8080/lista/addingredient",{name:t[0],q:t[1]}).then((function(e){return console.log(e)})).catch((function(e){return console.log(e)})))}},o.a.createElement("input",{type:"text",id:"searchInput",className:f?C.a.focused:C.a.unFocused}),o.a.createElement("input",{className:C.a.submitBtn,type:"submit"}))))},B=a(12),L=a(29),q=a.n(L),R=function(e){return o.a.createElement("div",{className:q.a.container},o.a.createElement(B.b,{className:q.a.link,to:{pathname:"/lista/".concat(e.listaId)}},e.name))},T=a(43),D=a.n(T),F=function(e){var t=Object(n.useState)([]),a=Object(h.a)(t,2),c=a[0],s=a[1],l=Object(n.useState)(!1),r=Object(h.a)(l,2),i=r[0];r[1];Object(n.useEffect)((function(){console.log("smth?"),O.get("listas").then((function(e){s(e.data)})).catch((function(e){return console.log("[FIRST_ERR]",e)})),O.get("http://192.168.1.12:8080/lista/listas").then((function(e){console.log(e.data),s(e.data)})).catch((function(e){return console.log("[SECOND_ERR]",e)}))}),[i]);var u=c.map((function(e){return o.a.createElement(R,{name:e.name,key:e._id,listaId:e._id})}));return o.a.createElement("div",{className:D.a.itemsContainer},u)},U=f.a.create({baseURL:"http://localhost:8080/auth/"}),A=a(25),P=a(11),J=a.n(P),M=function(e){var t,a=Object(n.useState)(null),c=Object(h.a)(a,2),s=c[0],l=c[1],r=function(){var e=document.getElementById("password1").value,t=document.getElementById("password2").value;console.log(e,"ss"+t+"ss",typeof t),l(""!==t&&e!==t?J.a.invalid+" invalid ":null)};switch(e.type){case"username":t=o.a.createElement("input",{type:"text",onBlur:function(e){var t=e.target.value;console.log(e.target.value),/^[a-zA-Z]{2,10}$/.test(t)?l(null):l(J.a.invalid+" invalid ")},placeholder:"username",id:"username",spellCheck:"false",className:"".concat(s," ").concat(J.a.input)});break;case"password":t=o.a.createElement("input",{type:"text",placeholder:"password",id:"password",spellCheck:"false",className:"".concat(J.a.input," ").concat(J.a.password)});break;case"doublePassword":t=o.a.createElement(o.a.Fragment,null,o.a.createElement("input",{type:"text",onBlur:r,placeholder:"password",id:"password1",spellCheck:"false",className:"".concat(s," ").concat(J.a.input," ").concat(J.a.password)}),o.a.createElement("input",{type:"text",onBlur:r,placeholder:"passwordx2",id:"password2",spellCheck:"false",className:"".concat(s," ").concat(J.a.input," ").concat(J.a.password)}));break;default:t=o.a.createElement("p",{style:{color:"red"}}," fallaste ")}return o.a.createElement(o.a.Fragment,null,t)},V=a(4),W=a.n(V),X=Object(A.b)(null,(function(e){return{setToken:function(t){return e({type:"SET_TOKEN",token:t})}}}))((function(e){return o.a.createElement("div",{className:W.a.bigContainer},o.a.createElement("form",{className:W.a.form},o.a.createElement("h1",{className:W.a.h1},"log in"),o.a.createElement("div",{className:W.a.inputContainer},o.a.createElement(M,{type:"username"}),o.a.createElement(M,{type:"password"})),o.a.createElement("div",{className:W.a.block3},o.a.createElement(d,{className:W.a.button,type:"main",text:"log in",click:function(){var t=document.getElementById("username").value,a=document.getElementById("password").value;U.post("login",{username:t,password:a}).then((function(t){console.log(t.data),e.setToken(t.data.token),localStorage.clear(),localStorage.setItem("token",JSON.stringify(t.data.token)),e.history.push("/listas")})).catch((function(n){console.log(n),U.post("http://192.168.1.12:8080/auth/login",{username:t,password:a}).then((function(t){console.log(t.data),e.setToken(t.data.token),localStorage.clear(),localStorage.setItem("token",JSON.stringify(t.data.token)),e.history.push("/listas")})).catch((function(e){return console.log(e)}))}))}}),o.a.createElement(B.b,{className:W.a.link,to:"/singup"},"sing up"))))})),K=function(e){return o.a.createElement("div",{className:W.a.bigContainer},o.a.createElement("h1",{className:W.a.h1},"sing up"),o.a.createElement("div",{className:W.a.inputContainer},o.a.createElement(M,{type:"username"}),o.a.createElement(M,{type:"doublePassword"})),o.a.createElement("div",{className:W.a.block3},o.a.createElement(d,{className:W.a.button,type:"main",text:"sing up",click:function(){console.log("[SUBMIT]");var e=document.getElementById("username").value,t=document.getElementById("password1").value,a=document.getElementById("password2").value;console.log("[DATA]",e,t,a),U.post("postuser",{username:e,password1:t,password2:a}).then((function(e){return console.log(e)})).catch((function(e){return console.log(e)}))}}),o.a.createElement(B.b,{className:W.a.link,to:"/login"},"log in")))};var Y=function(e){return o.a.createElement(o.a.Fragment,null,o.a.createElement(l.d,null,o.a.createElement(l.b,{path:"/prueba",component:w}),o.a.createElement(l.b,{path:"/login",component:X}),o.a.createElement(l.b,{path:"/singup",component:K}),o.a.createElement(l.b,{path:"/start",component:p}),o.a.createElement(l.b,{path:"/lista/:id",component:I}),o.a.createElement(l.b,{path:"/listas",component:F}),o.a.createElement(l.a,{from:"/",to:"/start"})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Z=a(20),z=(a(73),{token:"camarelos"}),G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_TOKEN":return Object(_.a)(Object(_.a)({},e),{},{token:t.token});case"DELETE_TOKEN":return Object(_.a)(Object(_.a)({},e),{},{token:null});default:return e}},H=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Z.b,Q=Object(Z.c)(G,H());s.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(B.a,null,o.a.createElement(A.a,{store:Q},o.a.createElement(Y,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[45,1,2]]]);
//# sourceMappingURL=main.1e057054.chunk.js.map